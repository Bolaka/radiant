<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />



<title>Data &gt; Transform</title>

<script src="libs/jquery-1.11.0/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.1/css/united.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.1/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.1/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.1/shim/respond.min.js"></script>

<style type="text/css">

/* padding for bootstrap navbar */
body {
  padding-top: 50px;
  padding-bottom: 40px;
}


/* offset scroll position for anchor links (for fixed navbar)  */
.section h2 {
  padding-top: 55px;
  margin-top: -55px;
}
.section h3 {
  padding-top: 55px;
  margin-top: -55px;
}



/* don't use link color in navbar */
.dropdown-menu>li>a {
  color: black;
}

/* some padding for disqus */
#disqus_thread {
  margin-top: 45px;
}

</style>

<link rel="stylesheet" href="libs/font-awesome-4.1.0/css/font-awesome.min.css"/>

<style type="text/css">code{white-space: pre;}</style>
<link rel="stylesheet"
      href="libs/highlight/textmate.css"
      type="text/css" />
<script src="libs/highlight/highlight.js"></script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img { 
  max-width:100%; 
  height: auto; 
}
</style>
<div class="container-fluid main-container">


<div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="https://github.com/mostly-harmless/radiant">Radiant</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li><a href="/radiant/index.html">Home</a></li>
        <li class="dropdown">
          <a href="/radiant/base/" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Data<span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
             <li><a href="/radiant/base/manage.html">Manage</a></li>
             <li><a href="/radiant/base/view.html">View</a></li>
             <li><a href="/radiant/base/visualize.html">Visualize</a></li>
             <li><a href="/radiant/base/explore.html">Explore</a></li>
             <li><a href="/radiant/base/merge.html">Merge</a></li>
             <li><a href="/radiant/base/transform.html">Transform</a></li>
          </ul>
        </li>

        <li class="dropdown">
          <a href="/radiant/quant/" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Quant<span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
             <li class="dropdown-header">Random</li>
             <li><a href="/radiant/quant/ctl.html">Central Limit Theorem</a></li>
             <li><a href="/radiant/quant/sampling.html">Sampling</a></li>
             <li><a href="/radiant/quant/sampleSize.html">Sample size</a></li>
             <li class="divider"></li>
             <li class="dropdown-header">Base</li>
             <li><a href="/radiant/quant/single_mean.html">Single mean</a></li>
             <li><a href="/radiant/quant/compareMeans.html">Compare means</a></li>
             <li><a href="/radiant/quant/crossTabs.html">Cross-tabs</a></li>
             <li class="divider"></li>
             <li class="dropdown-header">Regression</li>
             <li><a href="/radiant/quant/correlation.html">Correlation</a></li>
             <li><a href="/radiant/quant/regression.html">Linear (OLS)</a></li>
          </ul>
        </li>

        <li class="dropdown">
          <a href="/radiant/marketing/" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Marketing<span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
             <li class="dropdown-header">Random</li>
             <li><a href="/radiant/quant/ctl.html">Central Limit Theorem</a></li>
             <li><a href="/radiant/quant/sampling.html">Sampling</a></li>
             <li><a href="/radiant/quant/sampleSize.html">Sample size</a></li>
             <li class="divider"></li>
             <li class="dropdown-header">Base</li>
             <li><a href="/radiant/quant/single_mean.html">Single mean</a></li>
             <li><a href="/radiant/quant/compareMeans.html">Compare means</a></li>
             <li><a href="/radiant/quant/crossTabs.html">Cross-tabs</a></li>
             <li class="divider"></li>
             <li class="dropdown-header">Regression</li>
             <li><a href="/radiant/quant/correlation.html">Correlation</a></li>
             <li><a href="/radiant/quant/regression.html">Linear (OLS)</a></li>
             <li class="divider"></li>
             <li class="dropdown-header">Maps</li>
             <li><a href="/radiant/marketing/mds.html">(Dis)similarity</a></li>
             <li><a href="/radiant/marketing/percepmap.html">Attributes</a></li>
             <li class="divider"></li>
             <li class="dropdown-header">Factor</li>
             <li><a href="/radiant/marketing/preFactor.html">Pre-factor</a></li>
             <li><a href="/radiant/marketing/fullFactor.html">Factor</a></li>
             <li class="divider"></li>
             <li class="dropdown-header">Cluster</li>
             <li><a href="/radiant/marketing/hcclustering.html">Hierarchical</a></li>
             <li><a href="/radiant/marketing/kmeansClustering.html">K-means</a></li>
             <li class="divider"></li>
             <li class="dropdown-header">Conjoint</li>
             <li><a href="/radiant/marketing/conjoint.html">Create profiles</a></li>
             <li><a href="/radiant/marketing/conjoint.html">Conjoint</a></li>
          </ul>
        </li>
        <li><a href="/radiant/about.html">About</a></li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">
<h1 class="title">Data &gt; Transform</h1>
</div>


<hr />
<blockquote>
<p>Modify type, change, create, add, reorder, and remove variables in the data. k</p>
</blockquote>
<!--
Insert Math in-line: $\alpha^2$

Insert Math as a centered equation:

$$y = \alpha + \beta \times x$$
-->

<div id="type" class="section level3">
<h3>Type</h3>
<p>When you select Type from the ‘Transformation type’ drop-down another drop-down menu is shown that will allow you to change the type or class of one or more variables in your data. For example, to change a variable of type factor or character to a variable of type date. Click the ‘Save changes’ button to change variable(s) in the data set. A description of the type transformations included in Radiant is provided below.</p>
<ol style="list-style-type: decimal">
<li>As factor: convert a variable to type factor (i.e., as.factor(x))</li>
<li>As number: convert a variable to type numeric (i.e., as.numeric(x))</li>
<li>As integer: convert a variable to type integer (i.e., as.integer(x))</li>
<li>As character: convert a variable to type character (i.e., as.character(x))</li>
<li>As date (mdy): R will, by default, read dates as factors. Use this function if the dates are ordered as month-day-year</li>
<li>As date (dmy): R will, by default, read dates as factors. Use this function if the dates are ordered as day-month-year</li>
<li>As date (ymd): R will, by default, read dates as factors. Use this function if the dates are ordered as year-month-day</li>
</ol>
</div>
<div id="change" class="section level3">
<h3>Change</h3>
<p>When you select Change from the ‘Transformation type’ drop-down another drop-down menu is shown that will allow you do apply common transformations to one or more variables in your data. For example, to take the (natural) log of a variable select the variable you want to change and choose Log from the ‘Apply function’ menu. A new variable is created with the prefix ‘log.’. Click the ‘Save changes’ button to add the variable(s) to the data set. A description of the transformation functions included in Radiant is provided below.</p>
<ol style="list-style-type: decimal">
<li>Log: create a log-transformed version of the selected variable (i.e., log(x))</li>
<li>Square: multiply a variable by itself (i.e. x^2)</li>
<li>Square-root: take the square-root of a variable (i.e., x^.5)</li>
<li>Center: create a new variable with a mean equal to zero (i.e., x - mean(x))</li>
<li>Standardize: create a new variable with a mean equal to zero and standard deviation equal to 1 (i.e., (x - mean(x)/sd(x)))</li>
<li>Invert: 1/x</li>
<li>Median split: create a new factor with two levels (Above and Below) that splits the variable values at the median</li>
<li>Deciles: create a new factor with 10 levels (deciles) that splits the variable values at the 10th, 20th, …, 90th percentiles.</li>
</ol>
</div>
<div id="create" class="section level3">
<h3>Create</h3>
<p>Choose Create from the ‘Transformation type’ drop-down. This is the most flexible command to create new or transformed variables. However, it also requires some knowledge or R syntax. A new variable can be any function of other variables in the data. Some examples are given below. In each example the name to the left of the ‘=’ sign is the name of the new variable. On the right of the ‘=’ sign you can include other variable names and basic R functions. After you have typed the command press return to create the new variable and press ‘Save changes’ to add it to the data.</p>
<ol style="list-style-type: decimal">
<li><p>Create a new variable z that is the difference between variables x and y in the data</p>
<p>z = x - y</p></li>
<li><p>Create a new variable z that is a transformation of variable x but with mean equal to zero (note that this transformation is available in the Change drop-down):</p>
<p>z = x - mean(x)</p></li>
<li><p>Create a new factor z that takes on the value TRUE when x &gt; y and FALSE otherwise</p>
<p>z = x &gt; y</p></li>
<li><p>Create a new factor z that takes on the value TRUE when x is equal to y and FALSE otherwise</p>
<p>z = x == y</p></li>
<li><p>Create a variable z that is equal to x lagged by 3 periods</p>
<p>z = shift(x,3)</p></li>
<li><p>Create a categorical variable with two levels</p>
<p>z = ifelse(x &lt; y, “x &lt; y”, “x &lt; y”)</p></li>
<li><p>Create a categorical variable with three levels</p>
<p>z = ifelse(x &lt; 60, “x &lt; 60”, ifelse(x &gt; 65, “x &gt; 65”, “60-65”))</p></li>
</ol>
<p>Note: For 6 and 7 you should convert the new variable to a factor for analysis (see Type above)</p>
</div>
<div id="clipboard" class="section level3">
<h3>Clipboard</h3>
<p>It is possible to manipulate your data in Excel and copy-and-paste a new variable back into R. If you do not have the original data in Excel format use the ‘clipboard’ feature in Data &gt; Manage to save the data to the clipboard so you can paste it into Excel. Apply your transformations in Excel and then copy the new variable, with a header label, to the clipboard from Excel (i.e, CTRL-C on Windows and CMD-C on Mac). Select ‘Clipboard’ from the ‘Transformation type’ dropdown and paste your new data into the ‘Paste from Excel’ box shown. It is key that the number of observations for the new variable is the same as in the original data. The new variable will be shown on screen. To add the variable to the data click ‘Save changes’.</p>
</div>
<div id="recode" class="section level3">
<h3>Recode</h3>
<p>To use the recode feature select the variable you want to change and choose ‘Recode’ from the ‘Transformation type’ dropdown. Provide one or more recode commands (separate the commands by a ‘;’) and press return to see the newly created variable. Click ‘Save changes’ to add the new variable to the data. Some recode command examples are given below.</p>
<ol style="list-style-type: decimal">
<li><p>All values below 20 are set to ‘Low’ and all others to ‘High’</p>
<p>lo:20 = ‘High’; else = ‘High’</p></li>
<li><p>Values 1 through 12 are set to ‘A’, 13:24 to ‘B’, and the remainder to ‘C’</p>
<p>1:12 = ‘A’; 13:24 = ‘B’; else = ‘C’</p></li>
<li><p>The transformation commands used for the Tulsa-Age cross-tab:</p>
<p>‘&lt;25’ = ‘&lt;35’; ‘25-34’ = ‘&lt;35’; ‘35-44’ = ‘35-54’; ‘45-54’ = ‘35-54’; ‘55-64’ = ‘&gt;54’; ‘&gt;64’ = ‘&gt;54’</p></li>
<li><p>To exclude a particular value (e.g., an outlier in the data) from subsequent analyses we can recode it to a missing value. If we want to remove the maximum value from a variable called <strong>sales</strong> that is equal to 400 we would (1) select the variable <strong>sales</strong> in the ‘Select column(s)’ box and enter the command below in the ‘Recode box’. Press return and ‘Save changes’ to add the recoded variable to the data.</p>
<p>400 = NA</p></li>
</ol>
</div>
<div id="rename" class="section level3">
<h3>Rename</h3>
<p>Choose ‘Rename’ from the ‘Transformation type’ dropdown, select one or more variables and enter new names for them in the rename box shown. Separate each name by a ‘,’. Press return to see the variables with their new names on screen and press ‘Save changes’ to alter the variable names in the original data.</p>
</div>
<div id="remove-columns" class="section level3">
<h3>Remove columns</h3>
<p>Choose ‘Remove columns’ from the ‘Transformation type’ dropdown and select one or more variables to remove. Press ‘Save changes’ to remove the variables from the original data. Note that this action cannot be undone. If you want to the original variables back you will have to reload the data through the Data &gt; Manage page.</p>
</div>
<div id="remove-missing" class="section level3">
<h3>Remove missing</h3>
<p>Choose ‘Remove missing’ from the ‘Transformation type’ dropdown to remove missing values. Press ‘Save changes’ to remove all rows with missing values from the data. If missing values were present you will see the number of observations in the data summary change (i.e., the value of n changes). Note that this action cannot be undone. If you want these rows back you will have to reload the data through the Data &gt; Manage page.</p>
</div>
<div id="subset" class="section level3">
<h3>Subset</h3>
<p>Choose ‘Subset’ from the ‘Transformation type’ dropdown to select (or omit) specific sets of rows from the data. You can use &gt; and &lt; signs and even combine filter commands. For example, x &gt; 3 &amp; y == 2 would select only those rows for which the variable x has values larger than 3 <strong>and</strong> for which y has values equal to 2. Type your filter statement in the Subset box and press enter to see the result on screen. You should see the number of observations in the data summary change (i.e., the value of n changes). Press ‘Save changes’ to keep only the rows you want in the data. Note that this action cannot be undone. If you want these rows back you will have to reload the data through the Data &gt; Manage page.</p>
</div>


&copy; Vincent Nijs (2015) <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank"><img alt="Creative Commons License" style="border-width:0" src="/radiant/images/80x15.png" /></a>

<!-- some extra javascript for older browsers -->
<script type="text/javascript" src="libs/polyfill.js"></script>

<!-- mathjax -->
<script type='text/javascript' src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<script>

// manage active state of menu based on current page
$(document).ready(function () {

    // active menu
    href = window.location.pathname
    href = href.substr(href.lastIndexOf('/') + 1)
    $('a[href="' + href + '"]').parent().addClass('active');

    // manage active menu header
    if (href.startsWith('authoring_'))
      $('a[href="' + 'authoring' + '"]').parent().addClass('active');
    else if (href.endsWith('_format.html'))
      $('a[href="' + 'formats' + '"]').parent().addClass('active');
    else if (href.startsWith('developer_'))
      $('a[href="' + 'developer' + '"]').parent().addClass('active');

});

</script>

</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>


</body>
</html>
