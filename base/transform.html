<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />



<title>Data &gt; Transform</title>

<script src="libs/jquery-1.11.0/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.1/css/united.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.1/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.1/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.1/shim/respond.min.js"></script>

<style type="text/css">

/* padding for bootstrap navbar */
body {
  padding-top: 50px;
  padding-bottom: 40px;
}

/* offset scroll position for anchor links (for fixed navbar)  */
.section h2 {
  padding-top: 55px;
  margin-top: -55px;
}
.section h3 {
  padding-top: 55px;
  margin-top: -55px;
}

/* don't use link color in navbar */
.dropdown-menu>li>a {
  color: black;
}

</style>

<link rel="stylesheet" href="libs/font-awesome-4.1.0/css/font-awesome.min.css"/>
<link rel="shortcut icon" type="image/png" href="/radiant/images/radiant_red.png"/>

<style type="text/css">code{white-space: pre;}</style>
<link rel="stylesheet"
      href="libs/highlight/textmate.css"
      type="text/css" />
<script src="libs/highlight/highlight.js"></script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img { 
  max-width:100%; 
  height: auto; 
}
</style>
<div class="container-fluid main-container">


<div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="https://github.com/vnijs/radiant">Radiant</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li><a href="/radiant/index.html">Home</a></li>
        <li><a href="/radiant/news.html">News</a></li>
        <li class="dropdown">
          <a href="/radiant/base/" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Data<span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
             <li><a href="/radiant/base/manage.html">Manage</a></li>
             <li><a href="/radiant/base/view.html">View</a></li>
             <li><a href="/radiant/base/visualize.html">Visualize</a></li>
             <li><a href="/radiant/base/pivot.html">Pivot</a></li>
             <li><a href="/radiant/base/explore.html">Explore</a></li>
             <li><a href="/radiant/base/transform.html">Transform</a></li>
             <li><a href="/radiant/base/merge.html">Merge</a></li>
          </ul>
        </li>

        <li class="dropdown">
          <a href="/radiant/quant/" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Quant<span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
             <li class="dropdown-header">Sample</li>
             <li><a href="/radiant/quant/sampling.html">Sampling</a></li>
             <li><a href="/radiant/quant/sample_size.html">Sample size</a></li>
             <li class="divider"></li>
             <li class="dropdown-header">Base</li>
             <li><a href="/radiant/quant/single_mean.html">Single mean</a></li>
             <li><a href="/radiant/quant/compare_means.html">Compare means</a></li>
             <li><a href="/radiant/quant/single_prop.html">Single proportion</a></li>
             <li><a href="/radiant/quant/compare_props.html">Compare proportions</a></li>
             <li><a href="/radiant/quant/cross_tabs.html">Cross-tabs</a></li>
             <li class="divider"></li>
             <li class="dropdown-header">Regression</li>
             <li><a href="/radiant/quant/correlation.html">Correlation</a></li>
             <li><a href="/radiant/quant/regression.html">Linear (OLS)</a></li>
             <li><a href="/radiant/quant/glm_reg.html">GLM</a></li>
          </ul>
        </li>

        <li class="dropdown">
          <a href="/radiant/marketing/" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Marketing<span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
             <li class="dropdown-header">Sample</li>
             <li><a href="/radiant/quant/sampling.html">Sampling</a></li>
             <li><a href="/radiant/quant/sample_size.html">Sample size</a></li>
             <li class="divider"></li>
             <li class="dropdown-header">Base</li>
             <li><a href="/radiant/quant/single_mean.html">Single mean</a></li>
             <li><a href="/radiant/quant/compare_means.html">Compare means</a></li>
             <li><a href="/radiant/quant/single_prop.html">Single proportion</a></li>
             <li><a href="/radiant/quant/compare_props.html">Compare proportion</a></li>
             <li><a href="/radiant/quant/cross_tabs.html">Cross-tabs</a></li>
             <li class="divider"></li>
             <li class="dropdown-header">Regression</li>
             <li><a href="/radiant/quant/correlation.html">Correlation</a></li>
             <li><a href="/radiant/quant/regression.html">Linear (OLS)</a></li>
             <li><a href="/radiant/quant/glm_reg.html">GLM</a></li>
             <li class="divider"></li>
             <li class="dropdown-header">Maps</li>
             <li><a href="/radiant/marketing/mds.html">(Dis)similarity</a></li>
             <li><a href="/radiant/marketing/pmap.html">Attributes</a></li>
             <li class="divider"></li>
             <li class="dropdown-header">Factor</li>
             <li><a href="/radiant/marketing/pre_factor.html">Pre-factor</a></li>
             <li><a href="/radiant/marketing/full_factor.html">Factor</a></li>
             <li class="divider"></li>
             <li class="dropdown-header">Cluster</li>
             <li><a href="/radiant/marketing/hier_clus.html">Hierarchical</a></li>
             <li><a href="/radiant/marketing/kmeans_clus.html">K-means</a></li>
             <li class="divider"></li>
             <li class="dropdown-header">Conjoint</li>
             <li><a href="/radiant/marketing/conjoint_profiles.html">Create profiles</a></li>
             <li><a href="/radiant/marketing/conjoint.html">Conjoint</a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a href="/radiant/R/" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">R<span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
             <li><a href="/radiant/programming.html">Programming</a></li>
             <li><a href="/radiant/resources.html">Resources</a></li>
          </ul>
        </li>
        <li><a href="/radiant/tutorials.html">Tutorials</a></li>
        <li><a href="/radiant/about.html">About</a></li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">
<h1 class="title">Data &gt; Transform</h1>
</div>


<hr />
<blockquote>
<p>Modify type, change, normalize, create, add, reorder, and remove variables in the data.</p>
</blockquote>
<div id="type" class="section level4">
<h4>Type</h4>
<p>When you select <code>Type</code> from the <code>Transformation type</code> drop-down another drop-down menu is shown that will allow you to change the type or class of one or more variables in your data. For example, you can change a variable of type factor or character to a variable of type date. Click the <code>Save changes</code> button to change variable(s) in the data set. A description of the transformations included in Radiant is provided below.</p>
<ol style="list-style-type: decimal">
<li>As factor: convert a variable to type factor (i.e., as.factor(x))</li>
<li>As number: convert a variable to type numeric (i.e., as.numeric(x))</li>
<li>As integer: convert a variable to type integer (i.e., as.integer(x))</li>
<li>As character: convert a variable to type character (i.e., as.character(x))</li>
<li>As date (mdy): R will, by default, read dates as factors. Use this function if the dates are ordered as month-day-year</li>
<li>As date (dmy): R will, by default, read dates as factors. Use this function if the dates are ordered as day-month-year</li>
<li>As date (ymd): R will, by default, read dates as factors. Use this function if the dates are ordered as year-month-day</li>
<li>As date/time (ymd_hms): R will, by default, read dates as factors. Use this function if the dates are ordered as year-month-day-hour-minute-second</li>
</ol>
</div>
<div id="change" class="section level4">
<h4>Change</h4>
<p>When you select <code>Change</code> from the <code>Transformation type</code> drop-down another drop-down menu is shown that will allow you do apply common transformations to one or more variables in your data. For example, to take the (natural) log of a variable select the variable you want to change and choose <code>Log</code> from the <code>Apply function</code> menu. A new variable is created with the prefix <code>log_</code>. Click the <code>Save changes</code> button to add the variable(s) to the data set. A description of the transformation functions included in Radiant is provided below.</p>
<ol style="list-style-type: decimal">
<li>Log: create a log-transformed version of the selected variable (i.e., log(x))</li>
<li>Square: multiply a variable by itself (i.e., x^2)</li>
<li>Square-root: take the square-root of a variable (i.e., x^.5)</li>
<li>Center: create a new variable with a mean of zero (i.e., x - mean(x))</li>
<li>Standardize: create a new variable with a mean of zero and standard deviation of one (i.e., (x - mean(x)/sd(x)))</li>
<li>Invert: 1/x</li>
<li>Median split: create a new factor with two levels (Above and Below) that splits the variable values at the median</li>
<li>Deciles: create a new factor with 10 levels (deciles) that splits the variable values at the 10th, 20th, …, 90th percentiles.</li>
</ol>
</div>
<div id="normalize" class="section level4">
<h4>Normalize</h4>
<p>Choose <code>Normalize</code> from the <code>Transformation type</code> drop-down standardize one or more variables. For example, in the diamonds data we may want to express price of a diamond per-carat. Select <code>carat</code> as the normalizing variable and <code>price</code> in the <code>Select variable(s)</code> box. Then click the <code>Save changes</code> button.</p>
</div>
<div id="create" class="section level4">
<h4>Create</h4>
<p>Choose <code>Create</code> from the <code>Transformation type</code> drop-down. This is the most flexible command to create new or transformed variables. However, it also requires some knowledge or R-syntax. A new variable can be any function of other variables in the data. Some examples are given below. In each example the name to the left of the <code>=</code> sign is the name of the new variable. On the right of the <code>=</code> sign you can include other variable names and basic R-functions. After you have typed the command press CTRL-return (or CMD-return on mac) to create the new variable and press <code>Save changes</code> to add it to the data.</p>
<ol style="list-style-type: decimal">
<li><p>Create a new variable z that is the difference between variables x and y in the data</p>
<p>z = x - y</p></li>
<li><p>Create a new variable z that is a transformation of variable x but with mean equal to zero (note that this transformation is available in the Change drop-down):</p>
<p>z = x - mean(x)</p></li>
<li><p>Create a new factor z that takes on the value TRUE when x &gt; y and FALSE otherwise</p>
<p>z = x &gt; y</p></li>
<li><p>Create a new factor z that takes on the value TRUE when x is equal to y and FALSE otherwise</p>
<p>z = x == y</p></li>
<li><p>Create a variable z that is equal to x lagged by 3 periods</p>
<p>z = lag(x,3)</p></li>
<li><p>Create a categorical variable with two levels</p>
<p>z = ifelse(x &lt; y, ‘x &lt; y’, ‘x &lt; y’)</p></li>
<li><p>Create a categorical variable with three levels</p>
<p>z = ifelse(x &lt; 60, ‘x &lt; 60’, ifelse(x &gt; 65, ‘x &gt; 65’, ‘60-65’))</p></li>
</ol>
<p>Note: For 6 and 7 you may need to convert the new variable to a factor for analysis (see <code>Type</code> above)</p>
</div>
<div id="clipboard" class="section level4">
<h4>Clipboard</h4>
<p>It is possible to manipulate your data in Excel and copy-and-paste a new variable back into R. If you do not have the original data in Excel use the clipboard feature in Data &gt; Manage to save the data to the clipboard so you can paste it into Excel. Apply your transformations in Excel and then copy the new variable, with a header label, to the clipboard in Excel (i.e, CTRL-C on windows and CMD-C on mac). Select <code>Clipboard</code> from the <code>Transformation type</code> dropdown and paste your new data into the <code>Paste from Excel</code> box. It is key that the number of observations for the new variable is the same as in the original data. The new variable will be shown on screen. To add the variable to the data click <code>Save changes</code>.</p>
</div>
<div id="recode" class="section level4">
<h4>Recode</h4>
<p>To use the recode feature select the variable you want to change and choose <code>Recode</code> from the <code>Transformation type</code> dropdown. Provide one or more recode commands (separate the commands by a <code>;</code>) and press CTRL-return (or CMD-return on mac) to see the newly created variable. Click <code>Save changes</code> to add the new variable to the data. Some examples are given below.</p>
<ol style="list-style-type: decimal">
<li><p>All values below 20 are set to ‘Low’ and all others to ‘High’</p>
<p>lo:20 = ‘Low’; else = ‘High’</p></li>
<li><p>Values 1 through 12 are set to ‘A’, 13:24 to ‘B’, and the remainder to ‘C’</p>
<p>1:12 = ‘A’; 13:24 = ‘B’; else = ‘C’</p></li>
<li><p>To collapse age categories for a cross-tab analysis. In the example below ‘&lt;25’ and ‘25-34’ are recoded to ‘&lt;35’, ‘35-44’ and ‘35-44’ are recoded to ‘35-54’, and ‘55-64’ and ‘&gt;64’ are recoded to ‘&gt;54’</p>
<p>‘&lt;25’ = ‘&lt;35’; ‘25-34’ = ‘&lt;35’; ‘35-44’ = ‘35-54’; ‘45-54’ = ‘35-54’; ‘55-64’ = ‘&gt;54’; ‘&gt;64’ = ‘&gt;54’</p></li>
<li><p>To exclude a particular value (e.g., an outlier in the data) from the data from subsequent analyses we can recode it to a missing value. For example, if we want to remove the maximum value from a variable called <code>sales</code> that is equal to 400 we would (1) select the variable <code>sales</code> in the <code>Select column(s)</code> box and enter the command below in the <code>Recode box</code>. Press CTRL-return (or CMD-return on mac) and <code>Save changes</code> to add the recoded variable to the data.</p>
<p>400 = NA</p></li>
</ol>
</div>
<div id="rename" class="section level4">
<h4>Rename</h4>
<p>Choose <code>Rename</code> from the <code>Transformation type</code> dropdown, select one or more variables and enter new names for them in the rename box shown. Separate each name by a <code>,</code>. Press CTRL-return (or CMD-return on mac) to see the variables with their new names on screen and press <code>Save changes</code> to alter the variable names in the original data.</p>
</div>
<div id="remove-columns" class="section level4">
<h4>Remove columns</h4>
<p>Choose <code>Remove columns</code> from the <code>Transformation type</code> dropdown and select one or more variables to remove. Press <code>Save changes</code> to remove the variables from the original data. Note that this action cannot be undone. If you want the original variables back you will have to reload the data through the Data &gt; Manage page.</p>
</div>
<div id="remove-missing" class="section level4">
<h4>Remove missing</h4>
<p>Choose <code>Remove missing</code> from the <code>Transformation type</code> dropdown to eliminate all rows with one or more missing values. Press <code>Save changes</code> to change the data. If missing values were present you will see the number of observations in the data summary change (i.e., the value of <em>n</em> changes). Note that this action cannot be undone. If you want these rows back you will have to reload the data through the Data &gt; Manage page.</p>
</div>
<div id="filter" class="section level4">
<h4>Filter</h4>
<p>There are several ways to select a subset of the data to view. The <code>Filter</code> box on the left (click the checkbox first) can be used with <code>&gt;</code> and <code>&lt;</code> signs and you can also combine subset commands. For example, <code>x &gt; 3 &amp; y == 2</code> would show only those rows for which the variable <code>x</code> has values larger than 3 <strong>and</strong> for which <code>y</code> has values equal to 2. Note that in R <code>=</code> is used to <em>assign</em> a value and <code>==</code> to evaluate if the value of a variable is equal to some other value. In contrast <code>!=</code> is used to determine if a variable is <em>unequal</em> to some value. You can also use expression that have an <strong>or</strong> condition. For example, to select rows where <code>Salary</code> is larger than $100,000 or smaller than $20,000 use <code>Salary &lt; 20000 | Salary &gt; 100000</code>. <code>|</code> is the symbol for <strong>or</strong>. The table below gives an overview of common operators. Type your statement in the <code>Filter</code> box and press CTRL-return (or CMD-return on mac) to see the result on screen or an error below the box if the expression is invalid. It is important to note that filters are <em>presistent</em>. A filter entered in any of the Data-tabs will also be applied to other tabs and to the analyses conducted through any of the other menus in Radiant. To remove a filter you have to (1) erase it and press CTRL-return (or CMD-return on mac) or (2) uncheck the <code>Filter</code> checkbox.</p>
<table>
<thead>
<tr class="header">
<th align="left">Operator</th>
<th align="left"></th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">&lt;</td>
<td align="left"></td>
<td align="left">less than</td>
</tr>
<tr class="even">
<td align="left">&lt;=</td>
<td align="left"></td>
<td align="left">less than or equal to</td>
</tr>
<tr class="odd">
<td align="left">&gt;</td>
<td align="left"></td>
<td align="left">greater than</td>
</tr>
<tr class="even">
<td align="left">&gt;=</td>
<td align="left"></td>
<td align="left">greater than or equal to</td>
</tr>
<tr class="odd">
<td align="left">==</td>
<td align="left"></td>
<td align="left">exactly equal to</td>
</tr>
<tr class="even">
<td align="left">!=</td>
<td align="left"></td>
<td align="left">not equal to</td>
</tr>
<tr class="odd">
<td align="left">x | y</td>
<td align="left"></td>
<td align="left">x OR y</td>
</tr>
<tr class="even">
<td align="left">x &amp; y</td>
<td align="left"></td>
<td align="left">x AND y</td>
</tr>
</tbody>
</table>
<p></br>Choose <code>Filter</code> from the <code>Transformation type</code> dropdown to select (or omit) specific sets of rows from the data. You should see the number of observations in the data summary change (i.e., the value of n changes). Press <code>Save changes</code> to keep only the rows you want in the data. Note that this action cannot be undone. If you want these rows back you will have to reload the data through the Data &gt; Manage page.</p>
</div>


&copy; Vincent Nijs (2015) <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank"><img alt="Creative Commons License" style="border-width:0" src="/radiant/images/80x15.png" /></a>

<!-- some extra javascript for older browsers -->
<script type="text/javascript" src="libs/polyfill.js"></script>

<!-- mathjax -->
<!-- <script type='text/javascript' src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script> -->

<script>

// manage active state of menu based on current page
$(document).ready(function () {

    // active menu
    href = window.location.pathname
    href = href.substr(href.lastIndexOf('/') + 1)
    $('a[href="' + href + '"]').parent().addClass('active');

    // manage active menu header
    if (href.startsWith('authoring_'))
      $('a[href="' + 'authoring' + '"]').parent().addClass('active');
    else if (href.endsWith('_format.html'))
      $('a[href="' + 'formats' + '"]').parent().addClass('active');
    else if (href.startsWith('developer_'))
      $('a[href="' + 'developer' + '"]').parent().addClass('active');

});

</script>

</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
